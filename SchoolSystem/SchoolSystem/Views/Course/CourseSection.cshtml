@model IEnumerable<SchoolSystem.DAL.DataTransferObjects.CourseSectionTransferObject>

@{
    ViewData["Title"] = "Course Section Page";
}

@{
    var courseName = Model.FirstOrDefault();
}

<h1>@courseName?.CourseName</h1>
<hr>
@if (User.IsInRole("teacher") || User.IsInRole("admin"))
{
    <a asp-action="AddSectionCourse" asp-route-id="@courseName?.CourseId" class="bi bi-plus-circle-fill" style="font-size: 20px">
        Add a new section course
    </a>
    <hr>
}

@if (courseName?.Name == "")
{
    <div class="alert alert-warning d-flex align-items-center text-center" role="alert">
        <i class="bi-exclamation-triangle-fill" style="font-size: 5em;"></i>
        <div style="font-size:50px; margin-left: 20px">
            There are no section courses in database!
        </div>
    </div>
}

@foreach (var courseSection in Model)
{
    <div style="font-size: 25px; display:flex; justify-content: space-between; align-items: center;">
        <h3>@courseSection.Name</h3>
        @if (User.IsInRole("teacher") || User.IsInRole("admin"))
        {
            <a class="btn btn-success bi bi-pencil-square" asp-action="EditSectionCourse" asp-route-id="@courseSection.Id">Edit section</a>
        }
    </div>

    @if (courseSection.Tests.Count > 0)
    {
        foreach (var test in courseSection.Tests)
        {
            <a class="h4 m-lg-5" href="">@test.Name</a>
        }
    }
    @if (courseSection.Files.Count > 0)
    {
        foreach (var file in courseSection.Files)
        {
            <a class="h4 m-lg-5" href="">@file.Filename</a>
        }
    }
    <br>
}

<div>
    <a class="bi bi-arrow-bar-left" asp-action="Index">Back to courses</a>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}